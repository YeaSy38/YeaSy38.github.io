(function(c,b){function e(g){b.pushNotifications?b.pushNotifications.getUserToken(g):g(null)}function h(g,b,a){e(function(c){if(c)try{a||(a=[]),k(a)||a.push({name:"pushToken",value:c})}catch(e){}c=JSON.stringify({params:a,eventTypeKey:g,keyValue:b});d(c)})}function k(b){try{var a=!1;b.forEach(function(b){b.name&&"pushToken"===b.name&&(a=!0)});return a}catch(c){return!1}}function d(b){var a=new XMLHttpRequest;a.onerror=function(){};a.open("POST","https://esputnik.com/api/v1/event",!0);a.withCredentials=!0;
a.setRequestHeader("Authorization","Bearer eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0NTI0ZWZhYTJkYzI2MGRmYTM4YTE1NDBlMWFhYjE0NGNlOTAyNzBlMzI1Y2NlOWYwN2FjNDUzMWM3ODIwZTQxNjRhNWZhMmU0NWE0YTQyZjJkMmU3YWIyOGI3ZDg0NTI1ZWI0YWQxMTE2NzMyM2ZhY2E2NDUyOWI2NTVlYmE0NmE3ZDZiZDcwNmYyODMzNDJhZjYwYjUyZmJiODQ0NjEzMDA4Y2UwOTI5ZTFmMmMifQ.UOnZRrbER8LPuLwHUjeu_vBLBlmdLvoKzRkytZPtLsQGyVW2MG3sjoALAnMrp4XXeDyMXfsfwRi9cCPlPd_Pmg");a.setRequestHeader("Content-Type","application/json");a.send(b)}var a=!1;c.__es_sdk?b=c.__es_sdk:(c.__es_sdk=b,b.isPushModuleOn=function(){return a});b.pushOn=function(g){b.pushNotifications&&!b.isPushModuleOn()?(a=!0,b.pushNotifications.init(g)):console.log("Push module unavailable")};b.sendEvent=function(a,b,c){h(a,b,c)};b.getPushToken=e;b.getPushContactId=function(a){b.pushNotifications?b.pushNotifications.getUserPushSubscriptionContactId(a):
a(null)};b.onWebPushSubscriptionChange=function(a){if(b.pushNotifications)b.pushNotifications.onSubscriptionChange(a,!0)}})(this,this.__es_sdk||{});
var z="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,aa={};function M(l,n){(aa[l]=aa[l]||[]).push(n);for(var p=z,h=l.split("."),w=0;w<h.length-1&&p;w++)p=p[h[w]];h=h[h.length-1];p&&p[h]instanceof Function&&(p[h]=n(p[h]))}
function N(){N=function(){};if(!z.Symbol){z.Symbol=ra;var l=[],n=function(n){return function(h){l=[];h=n(h);for(var w=[],q=0,G=h.length;q<G;q++){var t;a:if(t=h[q],14>t.length)t=!1;else{for(var A=0;14>A;A++)if(t[A]!="jscomp_symbol_"[A]){t=!1;break a}t=!0}t?l.push(h[q]):w.push(h[q])}return w}};M("Object.keys",n);M("Object.getOwnPropertyNames",n);M("Object.getOwnPropertySymbols",function(p){return function(h){n.ca=Object.getOwnPropertyNames(h);l.push.apply(p(h));return l}})}}var sa=0;
function ra(l){return"jscomp_symbol_"+l+sa++}function O(){N();z.Symbol.iterator||(z.Symbol.iterator=z.Symbol("iterator"));O=function(){}}function ta(l){O();N();O();var n=l[Symbol.iterator];if(n)return n.call(l);var p=0;return{next:function(){return p<l.length?{done:!1,value:l[p++]}:{done:!0}}}}
(function(l,n){function p(){if("safari"===g.userAgent.name.toLowerCase()&&w()){if("default"===window.safari.pushNotification.permission(b.main.apnWebsitePushId).permission){var a={};a.domainId=b.main.APPLICATION_ID;a.userAgent=g.userAgent.name;a.userAgentVersion=g.userAgent.version;a.userAgentLanguage=window.navigator.O||window.navigator.language;a.OS=g.platform;a.subscriptionPage=window.location.href;window.safari.pushNotification.requestPermission(b.main.apnSubscriptionServiceUrl,b.main.apnWebsitePushId,
a,A);x.close()}try{document.body.removeEventListener("click",p)}catch(c){}}}function h(){try{!g.b||g.b&&b.main.IS_SHOW_CUSTOM_POP_OVER_DIALOG_FOR_SPECIAL_HTTPS?ua():g.b&&!b.main.IS_SHOW_CUSTOM_POP_OVER_DIALOG_FOR_SPECIAL_HTTPS?P.j():d.error("[registerController()] NO ACTIONS !!!")}catch(a){d.log("[registerController()] handle error ",a)}}function w(){var a="safari"in window&&"pushNotification"in window.safari,c=a&&16.3>=parseFloat(g.userAgent.version);if(a)try{a="granted"===window.Y.V.permission(b.main.apnWebsitePushId).permission}catch(e){a=
!1}return a||c}function q(){return w()?window.safari.pushNotification.permission(b.main.apnWebsitePushId):window.Notification}function G(a){d.log("[init()] Started process...");var c=b.urls,e=ba;a&&a["service-worker"]&&a["service-worker"].relUrl?e=a:d.log("Custom service worker script url is not provided, use default");c.SERVICE_WORKER_URL_HTTPS=e["service-worker"].relUrl;c=b.subscription;e=ba;a&&a["service-worker"]&&a["service-worker"].scope||(d.log("Custom service worker scope is not provided, use default"),
a=e);c.serviceWorkerScope=a["service-worker"].scope;d.log("Configuration: ");d.log("Target Domain: ",b.main.targetDomain);d.log("Proxy Domain: ",b.main.proxyDomain);d.log("Application ID: ",b.main.APPLICATION_ID);d.log("Notifications Service: ",b.main.notificationsService);d.log("Apple Push Notification Website Push ID: ",b.main.apnWebsitePushId);d.log("Show Subscription IFrame Result [s]: ",b.subscription.timeSuccessShow);d.log("Timeout on ignore prompt: ",b.subscription.timeoutIgnorePopover);d.log("Timeout on block prompt: ",
b.subscription.timeBlockPopover);d.log("Validation period: ",b.validation.validationPeriod);d.log("Is Validation Enabled: ",b.validation.isValidationEnabled);d.log("Validation Window Width: ",b.validation.validationWindowWidth);d.log("Validation Window Height: ",b.validation.validationWindowHeight);d.log("Token Data Update Period: ",b.updates.tokenDataUpdatePeriod);d.log("Is show special for Https: ",b.main.IS_SHOW_SPECIAL_FOR_HTTPS);d.log("Use client proxy for special Https: ",b.main.USE_CLIENT_PROXY_FOR_SPECIAL_HTTPS);
d.log("App Manifest URL: ",b.urls.APP_MANIFEST_URL_HTTPS);d.log("Service Worker URL: ",b.urls.SERVICE_WORKER_URL_HTTPS);d.log("Show IFrame for Https: ",b.main.IS_SHOW_CUSTOM_POP_OVER_DIALOG_FOR_SPECIAL_HTTPS);d.log("Show Prompt Delay: ",b.subscription.SHOW_PROMPT_DELAY);d.log("Is logger enabled: ",b.logging.IS_LOGGER_ENABLED);g.platform=E.B();g.userAgent=E.F();g.b=E.b();g.isSupported=E.K();g.i=E.J();d.log("[init()] Environment: ",g);d.log("");va()}function t(){"serviceWorker"in navigator&&navigator.serviceWorker.register(b.urls.SERVICE_WORKER_URL_HTTPS,
{scope:b.subscription.serviceWorkerScope}).then(function(a){d.log("[registerServiceWorker()] sw registered for scope: ",a.scope);d.log("[registerServiceWorker()] OK:",a);d.log("");wa()})["catch"](function(a){d.error("[registerServiceWorker()] FAIL:",a)});try{document.body.removeEventListener("click",t)}catch(a){}}function A(a){if("denied"===a.permission)d.log("User refused push notifications"),"true"===b.subscription.FLOATING_BUTTON_ENABLED&&("true"!==b.subscription.FLOATING_BUTTON_REMINDER_ENABLED||
"true"===b.subscription.FLOATING_BUTTON_REMINDER_ENABLED&&0===1E3*b.subscription.FLOATING_BUTTON_REMINDER_DELAY)&&x.c();else if("granted"===a.permission){d.log("User allow push notifications");var c={};c.token=a.deviceToken;B.l(c)}}function wa(){d.log("[checkSubscriptionInGCM()] Started.. ");navigator.serviceWorker.ready.then(function(a){try{a.pushManager.getSubscription().then(function(c){d.log("[checkSubscriptionInGCM()] OK, subscription =",c);if(c){var e=Q(c),f={};f.token=e;f.auth=H(c.getKey("auth"));
f.p256dh=H(c.getKey("p256dh"));B.l(f)}else xa(a)})["catch"](function(a){d.error("[checkSubscriptionInGCM()] FAIL: ",a)})}catch(c){}})}function xa(a){var c={userVisibleOnly:!0};I()&&(c.applicationServerKey=ya(b.subscription.vapidApplicationServerKey));a.pushManager.subscribe(c).then(function(a){var c=Q(a),d={};d.token=c;d.auth=H(a.getKey("auth"));d.p256dh=H(a.getKey("p256dh"));B.l(d)})["catch"](function(a){"true"===b.subscription.FLOATING_BUTTON_ENABLED&&("true"!==b.subscription.FLOATING_BUTTON_REMINDER_ENABLED||
"true"===b.subscription.FLOATING_BUTTON_REMINDER_ENABLED&&0===1E3*b.subscription.FLOATING_BUTTON_REMINDER_DELAY)&&x.c();d.warn("[subscribe()] FAIL: ",a)})}function I(){var a=b.subscription.vapidApplicationServerKey;return a&&0!==a.length}function ya(a){var c="=".repeat((4-a.length%4)%4);a=(a+c).replace(/\-/g,"+").replace(/_/g,"/");a=window.atob(a);for(var c=new Uint8Array(a.length),e=0;e<a.length;++e)c[e]=a.charCodeAt(e);return c}function H(a){return btoa(String.fromCharCode.apply(null,new Uint8Array(a))).replace(/\+/g,
"-").replace(/\//g,"_").replace(/\=+$/,"")}function Q(a){d.log("[parseSubscriptionEndpoint()] Started... ");a=a.subscriptionId?a.subscriptionId:a.endpoint;d.log("[parseSubscriptionEndpoint()] OK, subscriptionEndpoint = ",a);return a}function va(){k.get("Contacts",function(a){a.target.result&&a.target.result.value&&J(a.target.result.value)})}function J(a){"localStorage"in window&&void 0!==a&&null!==a&&localStorage.setItem("esWebPushContactId",a)}function za(){try{var a=localStorage.getItem("esState");
if(!a)return null;var c=JSON.parse(a),e=c&&c.webContact;return e&&e.webId||null}catch(f){return d.log("[getWebIdFromLocalStorage()] Error getting webId from localStorage:",f),null}}function R(){for(var a=0;a<ca.length;a++){var c;a:{var e=document.getElementById(ca[a]);if(e)try{c=e.innerHTML.trim();break a}catch(d){}c=null}if(c&&/^\S+@\S+$/.test(c))return c}return null}function S(a,c){k.get("cmms",function(e){e.target.result?c(a,e.target.result.value):c(a,null)},function(){c(a,null)})}function da(a,
c,e,f,b,m){B.m(c,e,f,b,function(c,e){try{if(c&&e)if(e=JSON.parse(e),e.cmms&&k.a({key:"cmms",value:e.cmms}),1==e.type){var f=e.value;k.a({key:"Contacts",value:e.value},function(){J(f);d.log(a+" ContactId: ",f);d.log(a+" Done");m&&m(!0,f)})}else m&&m(!0,null);else d.log(a+" Stopped. Reason - no data")}catch(b){d.error("[bind()] ",b)}})}function fa(a,c){var e=R();e&&da("[bind()] ",a,"5",e,c)}function Ba(a){a=a.scriptURL;a=0==a.indexOf(window.location.origin)?a.substring(window.location.origin.length):
void 0;return a&&-1!=a.indexOf(b.urls.SERVICE_WORKER_URL_HTTPS)}function Ca(){k.remove("SID",function(){try{g.b&&!b.main.IS_SHOW_CUSTOM_POP_OVER_DIALOG_FOR_SPECIAL_HTTPS?ga()["catch"](function(a){d.log("error unsubscribing",a)}).then(function(){h()}):h()}catch(a){}},function(a){d.log("Failed to remove subscription info from storage: "+a.target.errorCode)})}function ga(){return navigator.serviceWorker.ready.then(function(a){try{return a.pushManager.getSubscription().then(function(a){if(a)return a.unsubscribe()})["catch"](function(){})}catch(c){return Promise.reject(c)}})}
function T(a){try{return!isNaN(a-parseInt(a))}catch(c){return!1}}function ha(a){return["esputnik","yespo","reteno"].some(function(c){return a.toLowerCase().includes(c)})}function ia(){var a=new URL(window.location.href);d.log("[init()] check utm labels:",window.location.search);var c=a.searchParams.get("etm_term"),e=a.searchParams.get("utm_content"),a=a.searchParams.get("utm_source");c?(c=(new URLSearchParams(atob(c))).get("cid"),c=T(c)?c:null):c=null;if(c)return c;if(e)var f=ta(e.split("-")),c=f.next().value,
f=f.next().value,c=ha(c)&&T(f)?f:null;else c=null;if(c)return c;if(e&&a&&ha(a))return T(e)?e:null}function ua(){d.log("[showCustomPopOverDialogController()] Starting...");y.I(k,ja);try{Da(function(a,c){a&&Ea(function(a){var f=q();try{a&&f&&"granted"===f.permission||U(function(a){try{if(a){var e=new Date(c),u=new Date;"true"===b.subscription.FLOATING_BUTTON_REMINDER_ENABLED?C(e,u)>1E3*b.subscription.FLOATING_BUTTON_REMINDER_DELAY&&x.c():C(e,u)>864E5*b.subscription.timeBlockPopover&&y.f()}else{var ea=
new Date;"true"===b.subscription.FLOATING_BUTTON_ENABLED&&"true"===b.subscription.FLOATING_BUTTON_REMINDER_ENABLED&&f&&"denied"===f.permission?x.c():(!c||C(c,ea)>1E3*b.subscription.timeoutIgnorePopover)&&f&&"denied"!==f.permission&&y.f()}}catch(Aa){d.error("check before iframe",Aa)}})}catch(r){d.error("check before iframe",r)}})})}catch(a){d.error("check before iframe",a)}}function Da(a){k.get("userPrompted",function(c){var e=null;void 0===c.target.result?d.log("New visitor, try to subscribe ..."):
void 0!==c.target.result.value&&(e=new Date(c.target.result.value.date));a(!0,e)},function(){a(!1,null)})}function U(a){k.get("refused",function(c){a(c.target.result)},function(c){d.log("Failed to retrieve refused key, error: "+c.target.errorCode);a(null)})}function Ea(a){k.get("SID",function(c){a(c.target.result)},function(c){d.log("Failed to retrieve ID key, error: "+c.target.errorCode);a(null)})}function ja(){try{d.log("Subscription denied"),k.a({key:"refused",value:(new Date).toString()})}catch(a){}}
function C(a,c){return c.getTime()-a.getTime()}function ka(){var a=window.location.protocol;return b.main.IS_SHOW_SPECIAL_FOR_HTTPS&&"https:"===a?!0:!1}function la(a,c,e){var f=new Date;f.setTime(f.getTime()+864E5*e);document.cookie=a+"="+c+"; path=/;"+("expires="+f.toUTCString())}function V(a){function c(c,f,b){d.log("[sendResultCallback()] save to indexedDb..");d.log("[sendResultCallback()]",c,f,b);try{if(c&&b){d.log("[sendResultCallback()] Starting save token to indexedDb:",b.token);var m={sid:b.token,
bnd:f};I()&&a.auth&&(m.auth=a.auth);I()&&a.p256dh&&(m.p256dh=a.p256dh);k.a({key:"SID",value:m});k.a({key:"activeness.check",value:(new Date).getTime()});b.cmms&&k.a({key:"cmms",value:b.cmms});b.bindings?(d.log("[sendResultCallback()] Starting save to indexedDb:",b.bindings),b.bindings.forEach(function(a){if(1==a.type){var c=a.value;k.a({key:"Contacts",value:a.value},function(){J(c)});try{b.status&&"NEW"===b.status&&K.rememberEvent({type:"subscription-change",data:{type:"new-subscription",token:b.token,
contactId:a.value}})}catch(e){d.error("[evt error()]",e)}}else 2==a.type?la("es-bind-id",a.value,1095):3==a.type&&k.a({key:"sw-md5",value:{hash:a.value,date:(new Date).toString()}})})):d.warn("[sendResultCallback()] return, data.bindings = ",b.bindings)}else d.warn("[sendResultCallback()] return, subscription not saved")}catch(u){d.error("[syncSubscription()]",u)}}d.log("[syncSubscription()]",a);k.get("SID",function(e){try{if(!e.target.result)ma(a,c);else if(e.target.result.value!==a.token){var f=
e.target.result.value;d.warn("[[syncSubscription()]] old data in indexedDB",f,a);na(f,a,c)}}catch(b){d.error("[syncSubscription()]",b)}},function(){d.error("Failed to get SID data")})}function ma(a,c){d.log("[sendSubscriptionToService()]",a);try{var e=new XMLHttpRequest;e.onreadystatechange=function(){try{4==e.readyState&&(200==e.status?c(!0,!0,JSON.parse(e.responseText)):409==e.status?c(!0,!0,JSON.parse(e.responseText)):(d.warn("Bad Response status = ",e),c(!1,!1,null)))}catch(a){d.error("[sendSubscriptionToService()]",
a)}};e.open("PUT",b.main.notificationsService+"/v1/subscribe/",!0);e.setRequestHeader("Content-Type","application/json");var f={};f.domainId=b.main.APPLICATION_ID;f.endpoint=a.token;I()&&(a.auth&&a.p256dh&&(f.keys={},f.keys.auth=a.auth,f.keys.p256dh=a.p256dh),f.subscriptionType="VAPID");f.userAgent=g.userAgent.name;f.userAgentVersion=g.userAgent.version;f.userAgentLanguage=window.navigator.O||window.navigator.language;f.userLanguage=W.g();f.OS=g.platform;f.subscriptionPage=window.location.href;f.binding=
Fa();e.send(JSON.stringify(f))}catch(r){d.error("[sendSubscriptionToService()]",r)}}function oa(a,c){try{var e=new XMLHttpRequest;e.onreadystatechange=function(){try{var a=!0;4==e.readyState&&(410==e.status&&(a=!1),k.a({key:"activeness.check",value:(new Date).getTime()},function(){c(a)}))}catch(b){d.error("[checkSubscriptionIsActive()]",b)}};e.open("GET",b.main.notificationsService+"/v1/wps/"+b.main.APPLICATION_ID+"/subscription/state?sid="+encodeURIComponent(a),!0);e.setRequestHeader("Content-Type",
"application/json");e.send()}catch(f){c(!0)}}function Fa(){var a={},c=za();if(c)return a.type="9",a.value=c,a;if(v&&0!==v.length)c=v;else a:{if("localStorage"in window){var e=localStorage.getItem("esWebPushContactId",e);if(void 0!==e&&null!==e){c=e;break a}}c=null}c&&""!=c?(a.type="1",a.value=c):R()?(a.type="5",a.value=R()):""!=L&&(a.type="2",a.value=L);return a}function na(a,c,e){d.log("Send updated subscription to server:"+c);d.log("Old subscription:"+a);e(!0,null)}function pa(a,c){k.get(a,function(a){try{var b=
a.target.result;a=null;b&&(a=new Date(b.value));c(a)}catch(d){c(null)}})}function Ga(a){pa("validation",function(c){if(null!=c&&C(c,new Date)<b.validation.validationPeriod)return a(!1);a(!0)})}function Ha(a){pa("activeness.check",function(c){if(null!=c){try{var e=parseInt(c);Number.isNaN(e)||(c=e)}catch(b){}if(259200000>C(c,new Date)){a(!1);return}}a(!0)})}function Ia(a,c,e){try{Ga(function(f){if(f){var r=new XMLHttpRequest;r.onreadystatechange=function(){try{4==
r.readyState&&200==r.status&&(X="true"===r.responseText?!0:!1,d.log("Is token valid: "+X),X?e():Ja(a,c),k.a({key:"validation",value:(new Date).toString()}))}catch(b){d.log("Failed to update service worker: "+b)}};null!=a&&(r.open("GET",b.main.notificationsService+"/v1/subscription/validate?value="+a+"&app="+b.main.APPLICATION_ID,!0),r.setRequestHeader("Content-Type","application/json"),r.send())}else e()})}catch(f){d.log("Error: "+f)}}function Ja(a,c){var e=new XMLHttpRequest;e.onreadystatechange=
function(){try{4==e.readyState&&200==e.status&&(d.log("Token is set to inactive"),k.remove("SID",function(){d.log("SID key is removed from storage");c()},function(a){d.log("Failed to remove subscription info from storage: "+a.target.errorCode)}))}catch(a){d.log("Failed to deactivate token: "+a)}};e.open("PUT",b.main.notificationsService+"/v1/subscription/"+a+"/inactive",!0);e.setRequestHeader("Content-Type","application/json");e.send()}function D(a,c,e){if(!a||!e)return c;var b;try{b="string"===typeof a?
JSON.parse(a):a;if(!Array.isArray(b)||!b.length)return c;var d=b.find(function(a){return a.lang===e}),m=b.find(function(a){return a.origin});return d?d.text||c:m?m.text:c}catch(u){return c}}l.__es_sdk||(l.__es_sdk={});l.__es_sdk.pushNotifications=n;var ba={manifest:{included:!1,relUrl:"/manifest.json"},"service-worker":{relUrl:"/sw.js",scope:"/"}},b={main:{targetDomain:"https://sportlife.ua",proxyDomain:"",APPLICATION_ID:"0E626963-88DA-46E7-9E60-D594E55FCBE4",notificationsService:"https://push.esputnik.com",apnWebsitePushId:"web.sportlife.shop",
apnSubscriptionServiceUrl:"https://push.esputnik.com/v1/subscribe/apns/safari",isApnEnabled:true,IS_SHOW_SPECIAL_FOR_HTTPS:true,USE_CLIENT_PROXY_FOR_SPECIAL_HTTPS:false,IS_SHOW_CUSTOM_POP_OVER_DIALOG_FOR_SPECIAL_HTTPS:!1},subscription:{timeSuccessShow:8,timeoutIgnorePopover:0,timeBlockPopover:7,SHOW_PROMPT_DELAY:3,promptMode:1,subscriptionPromptAcceptBtnText:"Разрешить",
subscriptionPromptAcceptBtnTextArr:[{"origin":true,"text":"Подписаться"}],subscriptionPromptAcceptBtnTextArr123:[{"origin":true,"text":"Подписаться"}],subscriptionPromptDeclineBtnText:"Запретить",subscriptionPromptDeclineBtnTextArr:[{"origin":true,"text":"Отказаться"}],subscriptionPromptText:"Кликните &quot;Разрешить&quot;, чтобы получать уведомления от https://sportlife.ua",subscriptionPromptTextArr:[{"origin":true,"text":"Подписаться на уведомления от \u003cp class\u003d\u0027push-notification-prompt-message-text\u0027 style\u003d\u0027margin-bottom:0px\u0027\u003ehttps://sportlife.ua\u003c/p\u003e"}],subscriptionPopoverType:1,
vapidApplicationServerKey:"BKNhas-oTlaXETrJ4k0145AtqrKW_BB6ZCgQ3y2jLW3xipxX4XAxVmf3qTJYTqjJwXwijNLVcQpaXQOSP9p--O4",serviceWorkerScope:"/",FLOATING_BUTTON_ENABLED:"null",FLOATING_BUTTON_BACKGROUND_COLOR:"null",FLOATING_BUTTON_SIDE:"null",FLOATING_BUTTON_BOTTOM_DIMENSION:"null",FLOATING_BUTTON_SIDE_DIMENSION:"null",FLOATING_BUTTON_ANIMATION_TYPE:"null",FLOATING_BUTTON_REMINDER_ENABLED:"null",
FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT:"${FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT}",FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT_ARR:[{"origin":true}],FLOATING_BUTTON_REMINDER_BLOCKED_TEXT:"${FLOATING_BUTTON_REMINDER_BLOCKED_TEXT}",FLOATING_BUTTON_REMINDER_BLOCKED_TEXT_ARR:[{"origin":true}],FLOATING_BUTTON_REMINDER_DELAY:"null"},validation:{validationPeriod:86400000,isValidationEnabled:false,
validationWindowWidth:500,validationWindowHeight:300},updates:{tokenDataUpdatePeriod:604800000},urls:{SERVICE_WORKER_URL_HTTPS:"/sw.js"},logging:{IS_LOGGER_ENABLED:false}},ca=["EsputnikEmail","esputnikemail","esputnikEmail","eSputnikEmail","Esputnikemail"],v="",L="",X=!1,K={};(function(a){var c={},e={};a.rememberEvent=function(a){try{if(e[a.type]||(e[a.type]=[]),e[a.type].push(a),c[a.type])for(var b=0;b<
c[a.type].length;b++)if(c[a.type][b])try{c[a.type][b](a)}catch(m){d.log("failed to fire evt",m)}}catch(m){d.log("Failed to remember event",m)}};a.registerListener=function(a,b,d){c[a]||(c[a]=[]);if(d&&(d=e[a]))for(var u=0;u<d.length;u++)b(d[u]);c[a].push(b)}})(K);var Ka={onPageLoad:1,byElementClick:2},Z={"default":1,topPanel:2,bottomPanel:3},g={platform:null,userAgent:null,isSupported:!1,b:!1,i:!1},P={W:h,j:function(){d.log("[registerServiceWorker()] Started...");w()?document.body.addEventListener("click",
p):-1<navigator.userAgent.toLowerCase().indexOf("firefox")||-1<navigator.userAgent.toLowerCase().indexOf("edg")||/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?document.body.addEventListener("click",t):t()}},Ma={bind:function(){d.log("[bind()] Starting...");v=ia();L=La.A("es-bind-id");d.log("[bind()] userId =",v);d.log("[bind()] uuid =",L);k.get("SID",function(a){function c(a){a&&""!==a&&oa(a,function(a){a?m():Ca()})}function e(){var e=a.target.result.value.sid;"serviceWorker"in navigator&&
ka()?navigator.serviceWorker.getRegistration().then(function(a){a&&a.active&&Ba(a.active)&&a.pushManager.getSubscription().then(function(a){a&&(a=Q(a))&&-1!=a.indexOf(e)&&c(e)})["catch"](function(){})})["catch"](function(){}):c(e)}function f(c){var e=a.target.result.value.sid;B.m(e,"1",v,null,function(a,b){try{if(a&&b){b=JSON.parse(b);var f=b.value;1==b.type&&k.a({key:"Contacts",value:b.value},function(){J(f);try{K.rememberEvent({type:"subscription-change",data:{type:"contact-id-update",token:e,contactId:c,
newContactId:b.value}})}catch(a){d.error("[evt error()] ",a)}})}}catch(r){d.error("[bind()] ",r)}})}function r(){if(a.target.result.value){var c=a.target.result.value.sid;k.get("Contacts",function(a){try{if(a.target.result){var e=a.target.result.value;v&&""!==v&&v!=e?f(e):S(c,fa)}else v&&""!==v?f(null):S(c,fa)}catch(b){d.log("[bind()] ",b)}})}}function m(){var c=a.target.result.value.sid;b.validation.isValidationEnabled&&!g.b?Ia(c,h,r):r()}d.log("[bind()] Starting...");d.log("[bind()]  Check SID in DB: ",
a.target.result);try{window.localStorage.setItem("es_webpush_inited","1")}catch(ea){}var u=q();a.target.result?("true"===b.subscription.FLOATING_BUTTON_ENABLED&&"true"===b.subscription.FLOATING_BUTTON_REMINDER_ENABLED&&u&&"granted"!==u.permission&&(u&&"denied"===u.permission&&U(function(a){a||ja()}),h()),Ha(function(a){a?e():m()})):(d.log("[bind()] No SID in DB, try to register"),b.subscription.FLOATING_BUTTON_ENABLED&&u&&"granted"===u.permission?P.j():g.b&&!b.main.IS_SHOW_CUSTOM_POP_OVER_DIALOG_FOR_SPECIAL_HTTPS?
navigator.serviceWorker.getRegistrations().then(function(a){a&&0<a.length?ga().then(function(){h()}):h()})["catch"](function(){}):h())},function(){d.log("Failed to get data")});d.log("[bind()] Finish");d.log("")}},La={A:function(a){var c="";a+="=";for(var e=document.cookie.split(";"),b=0;b<e.length;b++){for(var d=e[b];" "==d.charAt(0);)d=d.substring(1);0==d.indexOf(a)&&(c=d.substring(a.length,d.length))}return c},aa:la,R:function(){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},
B={Z:ma,m:function(a,c,e,f,r){d.log("[sendBindRequestToService()] Starting...");try{var m=new XMLHttpRequest;m.onreadystatechange=function(){try{4===m.readyState&&(200==m.status?r(!0,m.responseText):r(!1,null))}catch(a){d.error("[sendBindRequestToService()]",a)}};m.open("PUT",b.main.notificationsService+"/v1/bind/",!0);m.setRequestHeader("Content-Type","application/json");m.send(JSON.stringify({token:a,type:c,value:e,appId:b.main.APPLICATION_ID,cmms:f}))}catch(u){d.error("[sendBindRequestToService()]",
u)}},$:na,l:V,X:function(){d.log("Try Register User Visit");k.get("SID",function(a){d.log("Check SID in DB: ",a.target.result);a.target.result?(d.log("Register User Visit"),a=a.target.result.value.sid,l.__es_sdk.S("user_visited_site",a,[{name:"sid",value:a}])):d.log("No SID in DB")})},L:function(a,c,e){if(c){var b;switch(a){case "contactId":b="1";break;case "email":b="5";break;case "phone":b="7";break;case "externalCustomerId":b="8"}b?(d.log("[rebind()] Locator type is supported"),k.get("SID",function(a){d.log("[rebind()] Starting binding...");
d.log("[rebind()] Check SID in DB: ",a.target.result);if(a.target.result.value){var m=a.target.result.value.sid;m&&""!==m?oa(m,function(a){a?S(m,function(a,d){da("[rebind()] ",a,b,c,d,function(a,c){e&&e(a,c)})}):(d.log("[rebind()] Subscription is not active"),e&&e(!1,null))}):(d.log("[rebind()] No SID in DB"),e&&e(!1,null))}else e&&e(!1,null)},function(){e&&e(!1,null)})):(d.log("[rebind()] Locator type is unsupported"),e&&e(!1,null))}else e&&e(!1,null)}},d={log:function(){console&&d.isEnabled()&&
console.log.apply(console,arguments)},warn:function(){console&&d.isEnabled()&&console.warn.apply(console,arguments)},error:function(){console&&d.isEnabled()&&console.error.apply(console,arguments)},isEnabled:function(){return/true/.test(b.logging.IS_LOGGER_ENABLED)}},E={U:G,F:function(){var a,c=navigator.userAgent,b=c.match(/(opera|chrome|safari|firefox|msie|yabrowser|trident(?=\/))\/?\s*(\d+)/i)||[],d=c.match(/(edge?(?=\/))\/?\s*(\d+)/i)||[];if("Edge"===d[1]||-1!=c.indexOf("Edg"))return{name:d[1],
version:d[2]};if(/trident/i.test(b[1]))return a=/\brv[ :]+(\d+)/g.exec(c)||[],{name:"IE",version:a[1]||""};if("Chrome"===b[1]){a=c.match(/\bOPR\/(\d+)/);if(null!=a)return{name:"Opera",version:a[1]};if(a=c.match(/\bYaBrowser\/(\d+)/),null!=a)return{name:"Yandex",version:a[1]}}return c.includes("CriOS")?{name:"Chrome",version:c.match(/CriOS\/(\d+(\.\d+)?)/)[1]}:"safari"!==b[1].toLowerCase()||c.includes("Chrome")||c.includes("Chromium")||c.includes("CriOS")||!(d=c.match(/version\/(\d+\.\d+)/i))?(b=b[2]?
[b[1],b[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=c.match(/version\/(\d+)/i))&&b.splice(1,1,a[1]),{name:b[0],version:b[1]}):{name:"Safari",version:d[1]}},B:function(){var a="Windows FreeBSD Android iPhone Linux Mac".split(" ");for(i=0;i<a.length;i++)if(-1!=navigator.userAgent.indexOf(a[i]))return a[i];return""},b:ka,K:function(){if(("iPhone"===g.platform||/iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!navigator.standalone||["iPhone"].includes(g.platform)&&
16.3>=parseFloat(g.userAgent.version)||""===g.platform)return!1;if("chrome"===g.userAgent.name.toLowerCase()&&42<=parseFloat(g.userAgent.version)||"firefox"===g.userAgent.name.toLowerCase()&&44<=parseFloat(g.userAgent.version)||"safari"===g.userAgent.name.toLowerCase()&&16.4<=parseFloat(g.userAgent.version))return!0;if("safari"===g.userAgent.name.toLowerCase())return b.main.isApnEnabled&&10<=g.userAgent.version;if("opera"===g.userAgent.name.toLowerCase()&&43<=parseFloat(g.userAgent.version)||"yandex"===
g.userAgent.name.toLowerCase()&&18<=parseFloat(g.userAgent.version))return!0},J:function(){var a=(b.main.targetDomain||"").replace("://www.","://");return 0===window.location.href.replace("://www.","://").indexOf(a)}},qa={h:G,w:function(){d.log("[checkData()] Started..");g.isSupported||d.warn("[checkData()] FAIL, Environment is not supported:",g);g.i||d.warn("[checkData()] FAIL,this  is not target domain",g);d.log("[checkData()] Ok");d.log("")},T:ia};n.rebind=function(a,c,b){B.L(a,c,b)};n.init=function(a){try{var c=
function(){try{qa.h(a),qa.w(),g.isSupported&&g.i&&Ma.bind()}catch(c){d.log("[main()] handle error ",c)}};b.subscription.promptMode===Ka.onPageLoad?setTimeout(c,1E3*b.subscription.SHOW_PROMPT_DELAY):document.addEventListener("click",function(a){a.target.closest(".es-push-prompt-init")&&(d.log("init subscription by click"),c())},!1)}catch(e){d.log("[init] handle error ",e)}};n.getUserToken=function(a){k.get("SID",function(c){var b=null;c.target.result&&(b=c.target.result.value.sid);a(b)})};n.getUserPushSubscriptionContactId=
function(a){k.get("Contacts",function(c){var b=null;c.target.result&&(b=c.target.result.value);try{b=parseInt(b),isNaN(b)&&(b=null)}catch(d){b=null}a(b)})};n.onSubscriptionChange=function(a,b){K.registerListener("subscription-change",a,b)};var k=function(){function a(a,b){try{var c=(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB).open("es-push-integration",1);c.onsuccess=function(b){try{e=b.target.result,a()}catch(c){}};c.onerror=function(a){try{d.log("DB opening error: "+
a.target.errorCode),b()}catch(c){}};c.onupgradeneeded=function(a){try{a.target.result.createObjectStore("integration-data",{keyPath:"key"})}catch(b){}}}catch(u){}}function b(c){try{e?c():a(function(){c()},function(){d.log("DB init failed")})}catch(r){d.log("Error occurred: "+r)}}var e=null;return{a:function(a,d,m){b(function(){var b=e.transaction(["integration-data"],"readwrite").objectStore("integration-data").put(a);b.onsuccess=d;b.onerror=m})},remove:function(a,d,m){b(function(){var b=e.transaction(["integration-data"],
"readwrite").objectStore("integration-data")["delete"](a);b.onsuccess=d;b.onerror=m})},get:function(a,d,m){b(function(){var b=e.transaction(["integration-data"],"readonly").objectStore("integration-data").get(a);b.onsuccess=d;b.onerror=m})}}}(),x=function(){function a(a,c){function d(){f.querySelector(".js-webPushSubscriptionBlockedTip").style.display="none"}var g=document.createElement("div"),h=W.g(),k="color: "+b.subscription.FLOATING_BUTTON_BACKGROUND_COLOR+"; background-color: "+b.subscription.FLOATING_BUTTON_BACKGROUND_COLOR+
"; display: none;",l="bottom: "+b.subscription.FLOATING_BUTTON_BOTTOM_DIMENSION+";\n                                z-index: 2147483647; \n                                "+b.subscription.FLOATING_BUTTON_SIDE+": "+b.subscription.FLOATING_BUTTON_SIDE_DIMENSION+";";try{g.classList.add("webPushSubscriptionPreview--component"),g.classList.add("widget-icon-"+b.subscription.FLOATING_BUTTON_SIDE),g.setAttribute("style",l),g.innerHTML='\n                    <div class="js-webPushSubscriptionPreview webPushSubscriptionPreview" style="display: none;">\n                        <div class="webPushSubscriptionPreview--inner">\n                            <span class="webPushSubscriptionPreview--text">\n                                '+
D(b.subscription.subscriptionPromptTextArr,b.subscription.subscriptionPromptText,h)+'\n                            </span>\n                            <div class="webPushSubscriptionPreview--confirm">\n                                <button id="es-push-decline-btn" class="webPushSubscriptionPreview--button webPushSubscriptionPreview--button__decline">\n                                    '+D(b.subscription.subscriptionPromptDeclineBtnTextArr,b.subscription.subscriptionPromptDeclineBtnText,h)+'\n                                 </button>\n                                 <button id="es-push-accept-btn" class="webPushSubscriptionPreview--button webPushSubscriptionPreview--button__accept">\n                                    '+
D(b.subscription.subscriptionPromptAcceptBtnTextArr,b.subscription.subscriptionPromptAcceptBtnText,h)+'\n                                 </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="js-webPushSubscriptionAlert webPushSubscriptionPreview--widgetTooltip webPushSubscriptionPreview--widgetTooltip__notBlocked" style="display: none;">\n                        '+D(b.subscription.FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT_ARR,
b.subscription.FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT,h)+'\n                    </div>\n                    <div class="js-webPushSubscriptionBlockedAlert webPushSubscriptionPreview--widgetTooltip webPushSubscriptionPreview--widgetTooltip__blocked" style="display: none;">\n                        '+D(b.subscription.FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT_ARR,b.subscription.FLOATING_BUTTON_REMINDER_NOT_BLOCKED_TEXT,h)+'\n                    </div>\n                    <div class="js-webPushSubscriptionBlockedTip webPushSubscriptionPreview--widgetTooltip" style="display: none;">\n                        <div class="widgetTooltip--text">\n                            <span>\n                            '+
D(b.subscription.FLOATING_BUTTON_REMINDER_BLOCKED_TEXT_ARR,b.subscription.FLOATING_BUTTON_REMINDER_BLOCKED_TEXT,h)+'\n                            </span>\n                            <span class="widgetTooltip--close close-prompt"></span>\n                        </div>\n                        <div class="widgetTooltip--imageContainer">\n                            <img class="widgetTooltip--image" src="https://statics.esputnik.com/images/widgetTooltip.png"/>\n                        </div>\n                    </div>\n                    <div class="js-bell-widget-icon widget-icon-wrap '+
b.subscription.FLOATING_BUTTON_ANIMATION_TYPE+'" style="'+k+'">\n                        <img alt="widget icon" src="'+b.main.notificationsService+"/push/resource/"+b.main.APPLICATION_ID+"/floating_button?decache="+(new Date).getTime()+'">\n                    </div>\n                ',g.style.visibility="hidden",g.querySelector(".widgetTooltip--close").addEventListener("click",d),g.querySelector("#es-push-decline-btn").addEventListener("click",function(){e();"true"===b.subscription.FLOATING_BUTTON_REMINDER_ENABLED&&
0===1*b.subscription.FLOATING_BUTTON_REMINDER_DELAY&&x.c();c()}),g.querySelector("#es-push-accept-btn").addEventListener("click",function(){e();a()}),g.querySelector(".js-bell-widget-icon").addEventListener("click",function(){U(function(a){var c=q();try{c&&"default"===c.permission&&(a?C(new Date(a&&a.value),new Date)>1E3*b.subscription.FLOATING_BUTTON_REMINDER_DELAY&&(y.f(),g.querySelector(".js-webPushSubscriptionAlert").style.display="none"):(y.f(),g.querySelector(".js-webPushSubscriptionAlert").style.display=
"none"))}catch(d){}})})}catch(n){}return g}function c(a,c){W.g();try{var f="push-notification-popover",g="push-notification-prompt-buttons";b.subscription.subscriptionPopoverType===Z.topPanel?(f="push-notification-popover-top",g="push-notification-prompt-inline-buttons"):b.subscription.subscriptionPopoverType===Z.bottomPanel&&(f="push-notification-popover-bottom",g="push-notification-prompt-inline-buttons");var h=document.createElement("div");h.setAttribute("class","push-notification-prompt "+f);
var k=document.createElement("div");k.setAttribute("class","push-notification-prompt-message");var l=document.createElement("div"),n=document.createElement("img");n.setAttribute("class","push-notification-bell-icon");n.setAttribute("width","14");n.setAttribute("height","14");n.setAttribute("src",b.main.notificationsService+"/img/subscription-notify-icon.svg");l.appendChild(n);l.setAttribute("class","push-notification-prompt-message-text");var F=document.createElement("div");F.setAttribute("class",
g);var p=document.createElement("button");p.setAttribute("class","push-notification-prompt-btn push-notification-accept-btn");p.setAttribute("type","button");p.onclick=a;p.innerHTML=b.subscription.subscriptionPromptAcceptBtnText;var q=document.createElement("button");q.setAttribute("class","push-notification-prompt-btn push-notification-disallow-btn");q.setAttribute("type","button");q.onclick=function(){e();c()};q.innerHTML=b.subscription.subscriptionPromptDeclineBtnText;F.appendChild(q);F.appendChild(p);
k.appendChild(l);if(b.subscription.subscriptionPopoverType===Z["default"]){k.appendChild(F);var t=document.createElement("div");t.setAttribute("class","push-prompt-text");t.innerHTML=b.subscription.subscriptionPromptText;l.appendChild(t)}else l.innerHTML+=b.subscription.subscriptionPromptText,l.appendChild(F);h.appendChild(k);var v=document.createElement("span");v.setAttribute("class","close-prompt");v.onclick=function(){e()};k.appendChild(v);h.style.visibility="hidden";return h}catch(w){return d.error("prompt ctor error: ",
w),null}}function e(){try{null!=f&&(f.style.visibility="hidden",f.classList.contains("webPushSubscriptionPreview--component")&&Array.from(f.children).forEach(function(a){a.style.display="none"}))}catch(a){d.error("prompt widget error:",a)}}var f=null;return{h:function(d,e){var g=document.getElementsByTagName("head")[0],h=document.createElement("link");h.rel="stylesheet";h.type="text/css";h.href=b.main.notificationsService+"/resource/"+b.main.APPLICATION_ID+"/es-subscription-prompt-style.css";g.appendChild(h);
f="true"===b.subscription.FLOATING_BUTTON_ENABLED?a(d,e):c(d,e);null!=f&&document.body.appendChild(f)},show:function(){try{null!=f&&(f.style.visibility="visible",f.classList.contains("webPushSubscriptionPreview--component")&&Array.from(f.children).forEach(function(a){a.classList.contains("js-webPushSubscriptionPreview")&&(a.style.display="block");a.classList.contains("js-bell-widget-icon")&&(a.style.display="flex")}))}catch(a){d.error("prompt widget error:",a)}},close:e,M:function(){},N:function(){},
c:function(){try{if(null!=f){f.style.visibility="visible";var a=f.querySelector(".js-webPushSubscriptionBlockedTip"),b=f.querySelector(".js-webPushSubscriptionAlert"),c=f.querySelector(".js-webPushSubscriptionBlockedAlert"),e=f.querySelector(".js-webPushSubscriptionPreview");Array.from(f.children).forEach(function(d){d.classList.contains("js-bell-widget-icon")?(d.style.display="flex",d.addEventListener("mouseenter",function(){var d=q();e&&"none"!==e.style.display||a&&"none"!==a.style.display||d&&
"denied"===d.permission?e&&"none"!==e.style.display||a&&"none"!==a.style.display||!c||"none"!==c.style.display||!d||"denied"!==d.permission||(c.style.display="block"):b.style.display="block"}),d.addEventListener("mouseleave",function(){var d=q();e&&"none"!==e.style.display||a&&"none"!==a.style.display||d&&"denied"===d.permission?e&&"none"!==e.style.display||a&&"none"!==a.style.display||!c||"none"===c.style.display||!d||"denied"!==d.permission||(c.style.display="none"):b.style.display="none"}),d.addEventListener("click",
function(){var d=q();d&&"denied"===d.permission&&(a.style.display="block",b.style.display="none",c.style.display="none")})):d.style.display="none"})}}catch(g){d.error("prompt widget error:",g)}}}}(),y=function(){function a(){window.addEventListener("message",function(a){var e=b.main.proxyDomain;try{if(e&&0==a.origin.indexOf(e))if("pong"==a.data)clearInterval(p),c();else if("SYNC"==a.data)t.a({key:"synced",value:(new Date).toString()});else{var f=1E3*b.subscription.timeSuccessShow;if("refused"==a.data)n();
else if(0===a.data.indexOf("SID|")){var g=a.data.split("|");if(2==g.length){var h={};h.token=g[1];V(h)}}else if(0===a.data.indexOf("SDO|"))try{g=a.data.split("|"),2==g.length&&(h=JSON.parse(g[1]),V(h))}catch(k){}setTimeout(function(){try{null!=l&&l.close()}catch(a){d.error("iframe: ",a)}},f)}}catch(k){d.error("iframe: ",k)}},!1)}function c(){try{x.close()}catch(a){d.error("iframe: ",a)}}function e(){var a=window.location.protocol;if("true"===b.subscription.FLOATING_BUTTON_ENABLED||!b.main.proxyDomain&&
"https:"===a)c(),P.j();else try{l=window.open(b.main.proxyDomain+"/subscription/"+b.main.APPLICATION_ID,"_blank","scrollbars=yes, width=500, height=500, top="+(g()/2-250+k())+", left="+(f()/2-250+h())),window.focus&&l.focus(),p=setInterval(function(){try{l.postMessage("ping",b.main.proxyDomain),l.postMessage("callFrom|"+window.location.href,b.main.proxyDomain)}catch(a){c()}},100)}catch(e){d.error("iframe: ",e)}}function f(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth?
document.documentElement.clientWidth:screen.width}function g(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height}function h(){return void 0!==window.screenLeft?window.screenLeft:screen.left}function k(){return void 0!==window.screenTop?window.screenTop:screen.top}var l=null,n=null,p=null,q=null,t=null;return{I:function(b,c){try{d.log("UI Module Init."),a(),n=c,x.h(e,n),t=b}catch(f){d.error("iframe: ",f)}},f:function(){try{t.a({key:"userPrompted",
value:{date:(new Date).toString()}}),x.show()}catch(a){d.error("iframe: ",a)}},ba:function(){try{var a=y.H(),c=y.G(),e=a/2-b.validation.validationWindowWidth/2+y.C(),f=c/2-b.validation.validationWindowHeight/2+y.D();q=window.open(b.main.proxyDomain+"/resource/update-frame/"+b.main.APPLICATION_ID,"_blank","location=no, scrollbars=no, width="+b.validation.validationWindowWidth+", height="+b.validation.validationWindowHeight+", top="+f+", left="+e);q.blur();window.focus()}catch(g){d.log("Error: "+g)}},
P:c,H:f,G:g,C:h,D:k,M:function(){},N:function(){}}}(),W={g:function(){var a=this.o()||this.u()||this.s();return this.v(a)},o:function(){return document.querySelector("html").getAttribute("lang")},s:function(){return navigator.language},u:function(){var a=location.pathname.split("/")[1];return a&&2===a.length?a:null},v:function(a){return a.split("-")[0].toLowerCase()}};return n})(this,{});
(function(c,b){function e(){for(var a=c[d].q;0<a.length;)h(a)}function h(a){try{if(0!=a.length){var b=a.shift(),c=b[0];a=[];for(var d=1;d<b.length;d++)a.push(b[d]);k(c,a)}}catch(e){}}function k(a,c){for(f in b)if(b.hasOwnProperty(f)){var d=b[f];if(f===a){d.apply(this,c);break}}}var d=c.esSdk;c[d]?(c[d].q||(c[d].q=[]),c[d].q.push=function(){var a=Array.prototype.push.apply(this,arguments);h(c[d].q);return a},e()):console.log("Using SDK synchronously")}(this,this.__es_sdk));
