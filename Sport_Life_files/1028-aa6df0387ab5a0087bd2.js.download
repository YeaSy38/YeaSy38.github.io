"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1028],{48206:function(e,t){function i(e){var t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var i=t-1.5/2.75;return 7.5625*i*i+.75}if(t<2.5/2.75){var r=t-2.25/2.75;return 7.5625*r*r+.9375}var n=t-2.625/2.75;return 7.5625*n*n+.984375}function r(e){return 1-i(1-e)}t.Y3=function(e){var t=e-1;return 1-t*t*t*t}},63318:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,n)}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useTurnstile=void 0;const a=s(i(67294)),o="undefined"!==typeof globalThis?globalThis:window;let l,h,u="undefined"!==typeof o.turnstile?"ready":"unloaded";const d=new Promise(((e,t)=>{h={resolve:e,reject:t},"ready"===u&&e(void 0)}));{const e="cf__reactTurnstileOnLoad",t="https://challenges.cloudflare.com/turnstile/v0/api.js";l=()=>{if("unloaded"===u){u="loading",o[e]=()=>{h.resolve(),u="ready",delete o[e]};const i=`${t}?onload=${e}&render=explicit`,r=document.createElement("script");r.src=i,r.async=!0,r.addEventListener("error",(()=>{h.reject("Failed to load Turnstile."),delete o[e]})),document.head.appendChild(r)}return d}}t.default=function({id:e,className:t,style:i,sitekey:r,action:n,cData:s,theme:o,language:h,tabIndex:d,responseField:c,responseFieldName:m,size:g,fixedSize:f,retry:_,retryInterval:b,refreshExpired:v,appearance:p,execution:w,userRef:x,onVerify:L,onSuccess:R,onLoad:C,onError:S,onExpire:y,onTimeout:E,onAfterInteractive:M,onBeforeInteractive:I,onUnsupported:W}){const T=(0,a.useRef)(null),k=(0,a.useState)({onVerify:L,onSuccess:R,onLoad:C,onError:S,onExpire:y,onTimeout:E,onAfterInteractive:M,onBeforeInteractive:I,onUnsupported:W})[0],A=null!==x&&void 0!==x?x:T,V=f?{width:"compact"===g?"130px":"flexible"===g?"100%":"300px",height:"compact"===g?"120px":"65px",...i}:i;return(0,a.useEffect)((()=>{if(!A.current)return;let e=!1,t="";return(async()=>{var i,a;if("ready"!==u)try{await l()}catch(L){return void(null===(i=k.onError)||void 0===i||i.call(k,L))}if(e||!A.current)return;let f;const x={sitekey:r,action:n,cData:s,theme:o,language:h,tabindex:d,"response-field":c,"response-field-name":m,size:g,retry:_,"retry-interval":b,"refresh-expired":v,appearance:p,execution:w,callback:(e,t)=>{var i,r;null===(i=k.onVerify)||void 0===i||i.call(k,e,f),null===(r=k.onSuccess)||void 0===r||r.call(k,e,t,f)},"error-callback":e=>{var t;return null===(t=k.onError)||void 0===t?void 0:t.call(k,e,f)},"expired-callback":e=>{var t;return null===(t=k.onExpire)||void 0===t?void 0:t.call(k,e,f)},"timeout-callback":()=>{var e;return null===(e=k.onTimeout)||void 0===e?void 0:e.call(k,f)},"after-interactive-callback":()=>{var e;return null===(e=k.onAfterInteractive)||void 0===e?void 0:e.call(k,f)},"before-interactive-callback":()=>{var e;return null===(e=k.onBeforeInteractive)||void 0===e?void 0:e.call(k,f)},"unsupported-callback":()=>{var e;return null===(e=k.onUnsupported)||void 0===e?void 0:e.call(k,f)}};t=window.turnstile.render(A.current,x),f=function(e){return{execute:t=>window.turnstile.execute(e,t),reset:()=>window.turnstile.reset(e),getResponse:()=>window.turnstile.getResponse(e),isExpired:()=>window.turnstile.isExpired(e)}}(t),null===(a=k.onLoad)||void 0===a||a.call(k,t,f)})(),()=>{e=!0,t&&window.turnstile.remove(t)}}),[r,n,s,o,h,d,c,m,g,_,b,v,p,w]),(0,a.useEffect)((()=>{k.onVerify=L,k.onSuccess=R,k.onLoad=C,k.onError=S,k.onExpire=y,k.onTimeout=E,k.onAfterInteractive=M,k.onBeforeInteractive=I,k.onUnsupported=W}),[L,R,C,S,y,E,M,I,W]),a.default.createElement("div",{ref:A,id:e,className:t,style:V})},t.useTurnstile=function(){const[e,t]=(0,a.useState)(u);return(0,a.useEffect)((()=>{"ready"!==u&&d.then((()=>t(u)))}),[]),o.turnstile}},88220:function(e,t,i){function r(e=0){return e*Math.PI/180}function n(e,t,i,r){r.save(),r.font=`1px ${t}`;const n=r.measureText(e).width;return r.restore(),i/n}function s(e={x:0,y:0},t={},i=1){const r=t.getBoundingClientRect();return{x:(e.x-r.left)*i,y:(e.y-r.top)*i}}function a(e=0,t=0,i=1){let r=(e%360+t)%360;return r=function(e=0){return Number(e.toFixed(9))}(r),r=(1===i?360-r:360+r)%360,r*=i,e+r}function o(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}function l(e){return"number"===typeof e&&!Number.isNaN(e)}function h({val:e,isValid:t,errorMessage:i,defaultValue:r,action:n=null}){if(t)return n?n():e;if(void 0===e)return r;throw new Error(i)}function u(e){return Math.sin(e*Math.PI/2)}i.d(t,{A:function(){return b}});const d=-90,c=Object.freeze({left:"left",right:"right",center:"center"}),m=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:c.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,itemLabelStrokeColor:"#fff",itemLabelStrokeWidth:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{x:0,y:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageOpacity:1,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,value:null,weight:1}}),g=Object.freeze({pointerLineColor:"#ff00ff",labelBoundingBoxColor:"#ff00ff",labelRadiusColor:"#00ff00",dragPointHue:300});function f(e={}){!function(e={}){const t=e.canvas;e._handler_onPointerMoveRefreshCursor=(t={})=>{const i={x:t.clientX,y:t.clientY};e._isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onMouseMoveRefreshCursor=(t={})=>{const i={x:t.clientX,y:t.clientY};e._isCursorOverWheel=e.wheelHitTest(i),e.refreshCursor()},e._handler_onPointerDown=(i={})=>{const r={x:i.clientX,y:i.clientY};function n(t={}){t.preventDefault(),e.dragMove({x:t.clientX,y:t.clientY})}function s(i={}){i.preventDefault(),t.releasePointerCapture(i.pointerId),t.removeEventListener("pointermove",n),t.removeEventListener("pointerup",s),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerout",s),e.dragEnd()}e.isInteractive&&e.wheelHitTest(r)&&(i.preventDefault(),e.dragStart(r),t.setPointerCapture(i.pointerId),t.addEventListener("pointermove",n),t.addEventListener("pointerup",s),t.addEventListener("pointercancel",s),t.addEventListener("pointerout",s))},e._handler_onMouseDown=(t={})=>{const i={x:t.clientX,y:t.clientY};function r(t={}){t.preventDefault(),e.dragMove({x:t.clientX,y:t.clientY})}function n(t={}){t.preventDefault(),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n),e.dragEnd()}e.isInteractive&&e.wheelHitTest(i)&&(e.dragStart(i),document.addEventListener("mousemove",r),document.addEventListener("mouseup",n))},e._handler_onTouchStart=(i={})=>{const r={x:i.targetTouches[0].clientX,y:i.targetTouches[0].clientY};function n(t={}){t.preventDefault(),e.dragMove({x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY})}function s(i={}){i.preventDefault(),t.removeEventListener("touchmove",n),t.removeEventListener("touchend",s),t.removeEventListener("touchcancel",s),e.dragEnd()}e.isInteractive&&e.wheelHitTest(r)&&(i.preventDefault(),e.dragStart(r),t.addEventListener("touchmove",n),t.addEventListener("touchend",s),t.addEventListener("touchcancel",s))},"PointerEvent"in window?(t.addEventListener("pointerdown",e._handler_onPointerDown),t.addEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.addEventListener("touchstart",e._handler_onTouchStart),t.addEventListener("mousedown",e._handler_onMouseDown),t.addEventListener("mousemove",e._handler_onMouseMoveRefreshCursor))}(e),e._handler_onResize=function(e={},t={}){if(window.ResizeObserver){const i=new ResizeObserver((()=>{t({redraw:!0})}));return i.observe(e),{stop:()=>{i.unobserve(e),i.disconnect()}}}return window.addEventListener("resize",t),{stop:()=>{window.removeEventListener("resize",t)}}}(e._canvasContainer,(({redraw:t=!0})=>{e.resize(),t&&e.draw(performance.now())}));const t=()=>{e._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),e._mediaQueryList.addEventListener("change",e._handler_onDevicePixelRatioChange,{once:!0})};e._handler_onDevicePixelRatioChange=()=>{e.resize(),t()},t()}class _{constructor(e,t={}){if(!o(e))throw new Error("wheel must be an instance of Wheel");if(!o(t)&&null!==t)throw new Error("props must be an Object or null");this._wheel=e;for(const i of Object.keys(m.item))this["_"+i]=m.item[i];t?this.init(t):this.init(m.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageOpacity=e.imageOpacity,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){this._backgroundColor="string"===typeof e?e:m.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){e instanceof HTMLImageElement?this._image=e:this._image=m.item.image,this._wheel.refresh()}get imageOpacity(){return this._imageOpacity}set imageOpacity(e){this._imageOpacity="number"===typeof e?e:m.item.imageOpacity,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){this._imageRadius="number"===typeof e?e:m.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){this._imageRotation="number"===typeof e?e:m.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){this._imageScale="number"===typeof e?e:m.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){this._label="string"===typeof e?e:m.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){this._labelColor="string"===typeof e?e:m.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=void 0!==e?e:m.item.value}get weight(){return this._weight}set weight(e){this._weight="number"===typeof e?e:m.item.weight}getIndex(){const e=this._wheel.items.findIndex((e=>e===this));if(-1===e)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){const e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return function(e=0,t=0,i=14){return parseFloat((Math.random()*(t-e)+e).toFixed(i))}(this.getStartAngle(),this.getEndAngle())}}class b{constructor(e,t={}){if(!(e instanceof Element))throw new Error("container must be an instance of Element");if(!o(t)&&null!==t)throw new Error("props must be an Object or null");this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,this._spinToTimeEnd=null,this._lastSpinFrameTime=null,this._isCursorOverWheel=!1,this.add(e);for(const i of Object.keys(m.wheel))this["_"+i]=m.wheel[i];t?this.init(t):this.init(m.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.itemLabelStrokeColor=e.itemLabelStrokeColor,this.itemLabelStrokeWidth=e.itemLabelStrokeWidth,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}add(e){this._canvasContainer=e,this.canvas=document.createElement("canvas"),this.canvas.style.display="block",this._context=this.canvas.getContext("2d"),this._canvasContainer.append(this.canvas),f(this),!1===this._isInitialising&&this.resize()}remove(){null!==this.canvas&&(null!==this._frameRequestId&&window.cancelAnimationFrame(this._frameRequestId),function(e={}){const t=e.canvas;"PointerEvent"in window?(t.removeEventListener("pointerdown",e._handler_onPointerDown),t.removeEventListener("pointermove",e._handler_onPointerMoveRefreshCursor)):(t.removeEventListener("touchstart",e._handler_onTouchStart),t.removeEventListener("mousedown",e._handler_onMouseDown),t.removeEventListener("mousemove",e._handler_onMouseMoveRefreshCursor)),e._handler_onResize.stop(),e._mediaQueryList.removeEventListener("change",e._handler_onDevicePixelRatioChange)}(this),this._canvasContainer.removeChild(this.canvas),this._canvasContainer=null,this.canvas=null,this._context=null)}resize(){if(null===this.canvas)return;this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px";const[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()];this.canvas.width=e,this.canvas.height=t;const i=Math.min(e,t),r=i-i*this._offset.x,s=i-i*this._offset.y,a=Math.min(e/r,t/s);this._size=Math.max(r*a,s*a),this._center={x:e/2+e*this._offset.x,y:t/2+t*this._offset.y},this._actualRadius=this._size/2*this.radius,this._itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this._labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax),"center"===this.itemLabelAlign&&(this._labelMaxWidth*=2);for(const o of this._items)this._itemLabelFontSize=Math.min(this._itemLabelFontSize,n(o.label,this.itemLabelFont,this._labelMaxWidth,this._context));this.refresh()}draw(e=0){if(this._frameRequestId=null,null===this._context||null===this.canvas)return;const t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);const i=this.getItemAngles(this._rotation),n=this.getScaledNumber(this._borderWidth);t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this._itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(const[s,a]of i.entries()){const e=this._items[s],t=new Path2D;t.moveTo(this._center.x,this._center.y),t.arc(this._center.x,this._center.y,this._actualRadius-n/2,r(a.start+d),r(a.end+d)),e.path=t}this.drawItemBackgrounds(t,i),this.drawItemImages(t,i),this.drawItemLines(t,i),this.drawItemLabels(t,i),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawDebugPointerLine(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){for(const[i,r]of t.entries()){const t=this._items[i];e.fillStyle=t.backgroundColor??this._itemBackgroundColors[i%this._itemBackgroundColors.length],e.fill(t.path)}}drawItemImages(e,t=[]){for(const[i,n]of t.entries()){const t=this._items[i];if(null===t.image)continue;e.save(),e.clip(t.path);const s=n.start+(n.end-n.start)/2;e.translate(this._center.x+Math.cos(r(s+d))*(this._actualRadius*t.imageRadius),this._center.y+Math.sin(r(s+d))*(this._actualRadius*t.imageRadius)),e.rotate(r(s+t.imageRotation)),e.globalAlpha=t.imageOpacity;const a=this._size/500*t.image.width*t.imageScale,o=this._size/500*t.image.height*t.imageScale,l=-a/2,h=-o/2;e.drawImage(t.image,l,h,a,o),e.restore()}}drawImage(e,t,i=!1){if(null===t)return;e.translate(this._center.x,this._center.y),i||e.rotate(r(this._rotation));const n=i?this._size:this._size*this.radius,s=-n/2;e.drawImage(t,s,s,n,n),e.resetTransform()}drawDebugPointerLine(e){this.debug&&(e.translate(this._center.x,this._center.y),e.rotate(r(this._pointerAngle+d)),e.beginPath(),e.moveTo(0,0),e.lineTo(2*this._actualRadius,0),e.strokeStyle=g.pointerLineColor,e.lineWidth=this.getScaledNumber(2),e.stroke(),e.resetTransform())}drawBorder(e){if(this._borderWidth<=0)return;const t=this.getScaledNumber(this._borderWidth),i=this._borderColor||"transparent";if(e.beginPath(),e.strokeStyle=i,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug){const t=this.getScaledNumber(1);e.beginPath(),e.strokeStyle=e.strokeStyle=g.labelRadiusColor,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=g.labelRadiusColor,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke()}}drawItemLines(e,t=[]){if(this._lineWidth<=0)return;const i=this.getScaledNumber(this._lineWidth),n=this.getScaledNumber(this._borderWidth);e.translate(this._center.x,this._center.y);for(const s of t)e.rotate(r(s.start+d)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-n,0),e.strokeStyle=this.lineColor,e.lineWidth=i,e.stroke(),e.rotate(-r(s.start+d));e.resetTransform()}drawItemLabels(e,t=[]){const i=this._itemLabelFontSize*-this.itemLabelBaselineOffset,n=this.getScaledNumber(1),s=this.getScaledNumber(2*this._itemLabelStrokeWidth);for(const[a,o]of t.entries()){const t=this._items[a],l=t.labelColor||this._itemLabelColors[a%this._itemLabelColors.length]||"transparent";if(""===t.label.trim()||"transparent"===l)continue;e.save(),e.clip(t.path);const h=o.start+(o.end-o.start)/2;if(e.translate(this._center.x+Math.cos(r(h+d))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(r(h+d))*(this._actualRadius*this.itemLabelRadius)),e.rotate(r(h+d)),e.rotate(r(this.itemLabelRotation)),this.debug){e.save();let t=0;"left"===this.itemLabelAlign?t=this._labelMaxWidth:"center"===this.itemLabelAlign&&(t=this._labelMaxWidth/2),e.beginPath(),e.moveTo(t,0),e.lineTo(-this._labelMaxWidth+t,0),e.strokeStyle=g.labelBoundingBoxColor,e.lineWidth=n,e.stroke(),e.strokeRect(t,-this._itemLabelFontSize/2,-this._labelMaxWidth,this._itemLabelFontSize),e.restore()}if(this._itemLabelStrokeWidth>0&&(e.lineWidth=s,e.strokeStyle=this._itemLabelStrokeColor,e.lineJoin="round",e.strokeText(t.label,0,i)),e.fillStyle=l,e.fillText(t.label,0,i),this.debug){const t=this.getScaledNumber(2);e.beginPath(),e.arc(0,0,t,0,2*Math.PI),e.fillStyle=g.labelRadiusColor,e.fill()}e.restore()}}drawDebugDragPoints(e){if(!this.debug||!this._dragEvents?.length)return;const t=[...this._dragEvents].reverse(),i=this.getScaledNumber(.5),r=this.getScaledNumber(4);for(const[n,s]of t.entries()){const t=n/this._dragEvents.length*100;e.beginPath(),e.arc(s.x,s.y,r,0,2*Math.PI),e.fillStyle=`hsl(${g.dragPointHue},100%,${t}%)`,e.strokeStyle="#000",e.lineWidth=i,e.fill(),e.stroke()}}animateRotation(e=0){if(null!==this._spinToTimeEnd){if(e>=this._spinToTimeEnd)return this.rotation=this._spinToEndRotation,this._spinToTimeEnd=null,void this.raiseEvent_onRest();const t=this._spinToTimeEnd-this._spinToTimeStart;let i=(e-this._spinToTimeStart)/t;i=i<0?0:i;const r=this._spinToEndRotation-this._spinToStartRotation;return this.rotation=this._spinToStartRotation+r*this._spinToEasingFunction(i),void this.refresh()}if(null!==this._lastSpinFrameTime){const t=e-this._lastSpinFrameTime;return t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),0===this._rotationSpeed?(this.raiseEvent_onRest(),this._lastSpinFrameTime=null):this._lastSpinFrameTime=e),void this.refresh()}}getRotationSpeedPlusDrag(e=0){const t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return 1===this._rotationDirection&&t<0||-1===this._rotationDirection&&t>=0?0:t}spin(e=0){if(!l(e))throw new Error("rotationSpeed must be a number");this._dragEvents=[],this.beginSpin(e,"spin")}spinTo(e=0,t=0,i=null){if(!l(e))throw new Error("Error: rotation must be a number");if(!l(t))throw new Error("Error: duration must be a number");this.stop(),this._dragEvents=[],this.animate(e,t,i),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,i=!0,r=1,n=1,s=null){this.stop(),this._dragEvents=[];const o=i?this.items[e].getCenterAngle():this.items[e].getRandomAngle();let l=a(this.rotation,o-this._pointerAngle,n);l+=360*r*n,this.animate(l,t,s),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:l,duration:t})}animate(e,t,i){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=i||u,this.refresh()}stop(){this._spinToTimeEnd=null,this._rotationSpeed=0,this._lastSpinFrameTime=null}getScaledNumber(e){return e/500*this._size}getActualPixelRatio(){return 0!==this._pixelRatio?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){if(null===this.canvas)return!1;return function(e={x:0,y:0},t,i,r){return(e.x-t)**2+(e.y-i)**2<=r**2}(s(e,this.canvas,this.getActualPixelRatio()),this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(null!==this.canvas){if(this.isInteractive){if(this.isDragging)return void(this.canvas.style.cursor="grabbing");if(this._isCursorOverWheel)return void(this.canvas.style.cursor="grab")}this.canvas.style.cursor=""}}getAngleFromCenter(e={x:0,y:0}){return(function(e,t,i,r){const n=e-i,s=t-r;let a=Math.atan2(-s,-n);return a*=180/Math.PI,a<0&&(a+=360),a}(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){0===this._items.length&&(this._currentIndex=-1);for(const[n,s]of e.entries())if(t=this._pointerAngle,i=s.start%360,r=s.end%360,i<r?i<=t&&t<r:i<=t||t<r){if(this._currentIndex===n)break;this._currentIndex=n,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}var t,i,r}getItemAngles(e=0){let t=0;for(const a of this.items)t+=a.weight;const i=360/t;let r,n=e;const s=[];for(const a of this._items)r=a.weight*i,s.push({start:n,end:n+r}),n+=r;return this._items.length>1&&(s[s.length-1].end=s[0].start+360),s}refresh(){null===this._frameRequestId&&(this._frameRequestId=window.requestAnimationFrame((e=>this.draw(e))))}limitSpeed(e=0,t=0){const i=Math.min(e,t);return Math.max(i,-t)}beginSpin(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._lastSpinFrameTime=performance.now(),this._rotationDirection=this._rotationSpeed>=0?1:-1,0!==this._rotationSpeed&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}refreshAriaLabel(){if(null===this.canvas)return;this.canvas.setAttribute("role","img");const e=this.items.length>=2?` The wheel has ${this.items.length} slices.`:"";this.canvas.setAttribute("aria-label","An image of a spinning prize wheel."+e)}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=h({val:e,isValid:"string"===typeof e,errorMessage:"Wheel.borderColor must be a string",defaultValue:m.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=h({val:e,isValid:l(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:m.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=h({val:e,isValid:"boolean"===typeof e,errorMessage:"Wheel.debug must be a boolean",defaultValue:m.wheel.debug}),this.refresh()}get image(){return this._image}set image(e){this._image=h({val:e,isValid:e instanceof HTMLImageElement||null===e,errorMessage:"Wheel.image must be a HTMLImageElement or null",defaultValue:m.wheel.image}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=h({val:e,isValid:"boolean"===typeof e,errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:m.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=h({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:m.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=h({val:e,isValid:"string"===typeof e&&(e===c.left||e===c.right||e===c.center),errorMessage:"Wheel.itemLabelAlign must be one of Constants.AlignText",defaultValue:m.wheel.itemLabelAlign}),this.resize()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=h({val:e,isValid:l(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:m.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=h({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:m.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=h({val:e,isValid:"string"===typeof e,errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:m.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=h({val:e,isValid:l(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:m.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=h({val:e,isValid:l(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:m.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=h({val:e,isValid:l(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:m.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=h({val:e,isValid:l(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:m.wheel.itemLabelRotation}),this.refresh()}get itemLabelStrokeColor(){return this._itemLabelStrokeColor}set itemLabelStrokeColor(e){this._itemLabelStrokeColor=h({val:e,isValid:"string"===typeof e,errorMessage:"Wheel.itemLabelStrokeColor must be a string",defaultValue:m.wheel.itemLabelStrokeColor}),this.refresh()}get itemLabelStrokeWidth(){return this._itemLabelStrokeWidth}set itemLabelStrokeWidth(e){this._itemLabelStrokeWidth=h({val:e,isValid:l(e),errorMessage:"Wheel.itemLabelStrokeWidth must be a number",defaultValue:m.wheel.itemLabelStrokeWidth}),this.refresh()}get items(){return this._items}set items(e){this._items=h({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:m.wheel.items,action:()=>{const t=[];for(const i of e)t.push(new _(this,{backgroundColor:i.backgroundColor,image:i.image,imageRadius:i.imageRadius,imageRotation:i.imageRotation,imageScale:i.imageScale,label:i.label,labelColor:i.labelColor,value:i.value,weight:i.weight}));return t}}),this.refreshAriaLabel(),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.resize()}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=h({val:e,isValid:"string"===typeof e,errorMessage:"Wheel.lineColor must be a string",defaultValue:m.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=h({val:e,isValid:l(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:m.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=h({val:e,isValid:o(e),errorMessage:"Wheel.offset must be an object",defaultValue:m.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=h({val:e,isValid:"function"===typeof e||null===e,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:m.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=h({val:e,isValid:"function"===typeof e||null===e,errorMessage:"Wheel.onRest must be a function or null",defaultValue:m.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=h({val:e,isValid:"function"===typeof e||null===e,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:m.wheel.onSpin})}get overlayImage(){return this._overlayImage}set overlayImage(e){this._overlayImage=h({val:e,isValid:e instanceof HTMLImageElement||null===e,errorMessage:"Wheel.overlayImage must be a HTMLImageElement or null",defaultValue:m.wheel.overlayImage}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=h({val:e,isValid:l(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:m.wheel.pixelRatio}),this._dragEvents=[],this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=h({val:e,isValid:l(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:m.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=h({val:e,isValid:l(e),errorMessage:"Wheel.radius must be a number",defaultValue:m.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=h({val:e,isValid:l(e),errorMessage:"Wheel.rotation must be a number",defaultValue:m.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=h({val:e,isValid:l(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:m.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=h({val:e,isValid:l(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:m.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){if(null===this.canvas)return;const t=s(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this._dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){if(null===this.canvas)return;const t=s(e,this.canvas,this.getActualPixelRatio()),i=this.getAngleFromCenter(t),r=this._dragEvents[0],n=function(e=0,t=0){return 180-function(e=0,t=0){const i=e+t;let r;return r=i>0?i%360:360+i%360,360===r&&(r=0),r}(e,180-t)}(this.getAngleFromCenter(r),i);this._dragEvents.unshift({distance:n,x:t.x,y:t.y,now:performance.now()}),this.debug&&this._dragEvents.length>=40&&this._dragEvents.pop(),this.rotation+=n}dragEnd(){this.isDragging=!1;let e=0;const t=performance.now();for(const[i,r]of this._dragEvents.entries()){if(this.isDragEventTooOld(t,r)){this._dragEvents.length=i,this.debug&&this.refresh();break}e+=r.distance}this.refreshCursor(),0!==e&&this.beginSpin(4*e,"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){this.onCurrentIndexChange?.({type:"currentIndexChange",currentIndex:this._currentIndex,...e})}raiseEvent_onRest(e={}){this.onRest?.({type:"rest",currentIndex:this._currentIndex,rotation:this._rotation,...e})}raiseEvent_onSpin(e={}){this.onSpin?.({type:"spin",...e})}}}}]);