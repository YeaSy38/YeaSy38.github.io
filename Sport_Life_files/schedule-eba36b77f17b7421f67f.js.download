(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{81332:function(e,t,n){"use strict";var r=n(83789),i=(n(67294),n(41664)),u=n(49234),l=n(85893);t.Z=function(e){var t=e.items,n=e.locale,a=e.className,s=[{title:(0,u.b)().t.breadcrumbs.root,url:"/".concat(n,"/")}].concat((0,r.Z)(t));return(0,l.jsx)("nav",{"aria-label":"breadcrumb",className:"breadcrumbs".concat(a?" "+a:""),children:(0,l.jsx)("ol",{itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:s.map((function(e,t){return(0,l.jsxs)("li",{itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[e.url?(0,l.jsx)(i.default,{href:e.url,as:e.url,children:(0,l.jsx)("a",{itemProp:"item",href:e.url,children:(0,l.jsx)("span",{itemProp:"name",children:e.title})})}):(0,l.jsx)("span",{itemProp:"name",children:e.title}),(0,l.jsx)("meta",{itemProp:"position",content:t+1})]},t)}))})})}},86155:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return M},default:function(){return F}});n(54067);var r=n(64713),i=n(92809),u=n(30266),l=n(80318),a=n(809),s=n.n(a),c=n(67294),o=n(11163),d=n(96827),f=n(32311),h=n.n(f),m=n(30381),v=n.n(m),p=n(49234),g=n(53023),y=n(11231),x=n(85746),j=n(99927),b=n(95117),w=n(67094),C=n(85893),S=function(e){var t=e.title,n=e.schedule,r=e.loading,i=e.reSchedule,u=function(){return v()().format("DD.MM.YYYY")},l=(0,c.useState)(u()),a=l[0],s=l[1],d=(0,c.useState)([]),f=d[0],h=d[1],m=(0,c.useState)(3),p=m[0],g=m[1],y=(0,o.useRouter)().query,x=(0,c.useRef)(null),j=(0,c.useRef)(null),b=function(){g(window.innerWidth<1920?2:3)};return(0,c.useEffect)((function(){b(),window.addEventListener("resize",b);var e=function(){return 1e3*v()().endOf("day").diff(v()(),"seconds")};if(x.current=function t(n){return setTimeout((function(){s(u()),i(),x.current=t(e())}),n)}(e()),"0"!==y.refresh){var t=y.refresh&&parseInt(y.refresh)?Math.max(parseInt(y.refresh),10):60;j.current=setInterval((function(){return i()}),60*t*1e3)}return function(){clearTimeout(x.current),clearInterval(j.current),window.removeEventListener("resize",b)}}),[]),(0,c.useEffect)((function(){if(!r)if(n.length){var e=n.filter((function(e){return v()(e.date).isSame(v()(),"day")})).sort((function(e,t){return v()(e.date).diff(v()(t.date))})).map((function(e){return{id:e.docId,startTime:v()(e.startDate).format("HH:mm"),title:e.service.name,studio:e.room.name,isPaid:e.isPrePaid}}));h(e)}else h([])}),[n,r,a]),(0,C.jsxs)("main",{className:"main-wrapper",children:[(0,C.jsx)("h1",{children:t}),(0,C.jsx)("div",{className:"current-date",children:a}),(0,C.jsx)("div",{className:"shedule",children:(0,C.jsx)("div",{className:"container",children:(0,C.jsx)("div",{className:"row",children:Array.from({length:p}).map((function(e,t){return(0,C.jsx)("div",{className:3===p?"col-4-xl":"col-6-lg",children:f.filter((function(e,n){var r=Math.ceil(f.length/p);return n>=t*r&&n<(t+1)*r})).map((function(e){return(0,C.jsxs)("div",{className:"shedule__item d-flex flex-wrap",children:[(0,C.jsx)("div",{className:"shedule__item-time",children:e.startTime}),(0,C.jsxs)("div",{className:"shedule__item-content",children:[(0,C.jsxs)("div",{className:"shedule__item-header",children:[" ",(0,C.jsx)("span",{children:e.title})]}),(0,C.jsx)("div",{className:"shedule__item-footer",children:e.studio})]}),e.isPaid&&(0,C.jsx)("div",{className:"shedule__item-icon",children:(0,C.jsxs)("svg",{width:"53",height:"53",viewBox:"0 0 53 53",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M26.2999 52.6C40.825 52.6 52.6 40.8251 52.6 26.3C52.6 11.7749 40.825 0 26.2999 0C11.7748 0 0 11.7749 0 26.3C0 40.8251 11.7748 52.6 26.2999 52.6Z",fill:"#FFDD00"}),(0,C.jsx)("path",{d:"M25.1001 15.8002C27.9001 15.5002 30.1001 16.4001 30.1001 16.4001L29.2001 20.2001C29.2001 20.2001 27.0001 19.4001 25.1001 19.9001C23.6001 20.3001 23.0001 21.1002 23.3001 22.1002C23.6001 23.2002 25.5002 23.5001 27.9002 23.9001C30.2002 24.3001 33.0001 25.5002 33.6001 28.0002C34.5001 31.7002 32.6002 33.9002 29.9002 35.1002L30.7001 38.5002L28.1001 39.1002L27.3001 35.8002C23.2001 36.6002 20.2001 34.9001 20.2001 34.9001L21.5002 30.8002C21.5002 30.8002 24.5001 32.3002 26.7001 31.8002C27.6001 31.6002 29.4002 31.1002 28.9002 29.3002C28.6002 27.9002 26.4002 27.8001 23.9002 27.2001C21.4002 26.6001 19.6001 25.2001 19.1001 23.2001C18.4001 20.3001 20.1001 17.6001 22.6001 16.4001L21.8001 13.0002L24.4002 12.4001L25.1001 15.8002Z",fill:"black"}),(0,C.jsx)("path",{d:"M31.8 45.6001C25.9 47.3001 19.3001 46.3001 14.0001 42.2001C5.30011 35.5001 3.70014 22.9001 10.4001 14.2001C17.1001 5.50007 29.7001 3.90008 38.4001 10.6001C47.1001 17.3001 48.7001 29.9001 42.0001 38.6001C39.3001 42.2001 35.7 44.5001 31.8 45.6001ZM21.3 9.60008C17.8 10.6001 14.6001 12.7001 12.2001 15.7001C6.30006 23.4001 7.70014 34.5001 15.4001 40.4001C23.1001 46.3001 34.2001 44.9001 40.1001 37.2001C46.0001 29.5001 44.6001 18.4001 36.9001 12.5001C32.4001 9.00007 26.6 8.10008 21.3 9.60008Z",fill:"black"})]})})]},e.id)}))},t)}))})})})]})},P=n(41695),_=n(28307),N=n(81332);function Z(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){a=!0,u=e},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw u}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,d.Zt)(v()),T=h().range(new Date,{localizer:E}),D=(0,l.Z)(T,1)[0],k=v()(D).format(),I=v()(D).add(14,"day").format(),M=!0,F=function(e){var t,n,i=e.page,l=e.clubs,a=e.headless,d=e.plasmaTitle,f=(0,c.useState)(!1),h=f[0],m=f[1],v=i.contentSections,O=i.metadata,q=(i.shortName,(0,p.b)()),E=q.cities,T=q.currentLocation,D=q.t,M=(0,c.useState)(T),F=M[0],A=M[1],R=(0,c.useState)(null),B=R[0],Y=R[1],z=(0,c.useState)([]),G=z[0],H=z[1],X=(0,c.useState)("adult"),K=X[0],Q=X[1],U=(0,o.useRouter)(),V=U.locale,W=U.query,$=function(e,t){return e?"".concat(D.schedule.title," ").concat(e)+(t?", ".concat(t):""):D.schedule.title},J=function(e,t){return e?D.schedule.metaTitle+e+(t?", ".concat(t):""):O.metaTitle},ee=function(e,t){var n;return e&&t?n="".concat(e,", ").concat(t):e&&(n="".concat(e)),n?D.schedule.metaDescription.replace("???",n):O.metaDescription},te=W.city?null===(t=E.find((function(e){return e.slug===W.city})))||void 0===t?void 0:t.name:null,ne=W.club?null===(n=l.find((function(e){return e.slug===W.club})))||void 0===n?void 0:n.name:null,re=(0,c.useState)($(te,ne)),ie=re[0],ue=re[1],le=(0,c.useState)(J(te,ne)),ae=le[0],se=le[1],ce=(0,c.useState)(ee(te,ne)),oe=ce[0],de=ce[1];(0,c.useEffect)((function(){var e,t,n,r,i,u,a,s;W.city?(a=E.find((function(e){return e.slug===W.city})),A(a)):F&&A(E.find((function(e){return e.slug===F.slug}))),W.club?(s=l.find((function(e){return e.slug===W.club})),Y(s)):Y(B?l.find((function(e){return e.slug===B.slug})):null),ue($(null===(e=a)||void 0===e?void 0:e.name,null===(t=s)||void 0===t?void 0:t.name)),se(J(null===(n=a)||void 0===n?void 0:n.name,null===(r=s)||void 0===r?void 0:r.name)),de(ee(null===(i=a)||void 0===i?void 0:i.name,null===(u=s)||void 0===u?void 0:u.name)),W.age?"all"===W.age?Q("all"):Q("kids"===W.age?"kid":"adult"):Q("adult"),W.filters?H(W.filters.split(";")):H([])}),[W]);var fe=(0,c.useState)([]),he=fe[0],me=fe[1],ve=(0,c.useState)([]),pe=ve[0],ge=ve[1],ye=function(){var e=(0,u.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,(0,g.jQ)({language:D.request.language,gymId:B.gymId,startDate:k,endDate:I});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),xe=(0,c.useState)(!1),je=xe[0],be=xe[1];(0,c.useEffect)((function(){null!==B&&void 0!==B&&B.gymId&&ye().then((function(e){return me(e)})),B&&B.gymId||ge([])}),[B,je]);return(0,c.useEffect)((function(){if(he&&he.length){var e=he;if("all"!==K&&("adult"===K&&(e=he.filter((function(e){return e.ageMax/12>=18})),ge(e)),"kid"===K&&(e=he.filter((function(e){return e.ageMax/12<18})),ge(e))),G.length>0){var t=[];e.forEach((function(e){var n=e.service.tagList.find((function(e){if(y.C8.includes(e.group))return e})),r=e.service.tagList.filter((function(e){if(y.En.includes(e.group))return e})),i=e.service.tagList.find((function(e){if(y.RG.includes(e.group))return e})),u=e.service.tagList.find((function(e){if(y.ZF.includes(e.group))return e})),l=e.service.tagList.find((function(e){if(y.sw.includes(e.group))return e}));G.includes(null===n||void 0===n?void 0:n.tag)&&t.push(e);var a,s=Z(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;G.includes(null===c||void 0===c?void 0:c.tag)&&(t.includes(e)||t.push(e))}}catch(o){s.e(o)}finally{s.f()}G.includes(null===i||void 0===i?void 0:i.tag)&&(t.includes(e)||t.push(e)),G.includes(null===u||void 0===u?void 0:u.tag)&&(t.includes(e)||t.push(e)),G.includes(null===l||void 0===l?void 0:l.tag)&&(t.includes(e)||t.push(e)),G.includes("\u041f\u043b\u0430\u0442\u043d\u043e")&&e.isPrePaid&&(t.includes(e)||t.push(e)),G.includes("\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e")&&!e.isPrePaid&&(t.includes(e)||t.push(e))})),ge(t)}B&&B.gymId||ge([])}else ge([])}),[K,he,B,G]),a?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Z,{metadata:L(L({},O),{},{noindex:!0,nofollow:!0})}),(0,C.jsx)(S,{title:d,schedule:pe,loading:h,reSchedule:function(){be((function(e){return!e}))}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Z,{metadata:L(L({},O),{},{noindex:!!W.filters,nofollow:!!W.filters,metaTitle:ae,metaDescription:oe})}),(0,C.jsx)("main",{className:"main schedulePage",children:(0,C.jsxs)("div",{className:"container",children:[(0,C.jsx)(N.Z,{className:"breadcrumbs-dark",items:[{title:D.schedule.label}],locale:V}),(0,C.jsx)("h1",{className:"page-heading",children:ie}),(0,C.jsx)(P.Z,{data:{title:D.schedule.bannersTitle,banners:y.hx,locale:V}}),(0,C.jsx)(b.Z,{currentCity:F,changeCurrentCity:function(e){null!==e&&void 0!==e&&e.slug?U.query.city=e.slug:delete U.query.city,delete U.query.club,U.push({pathname:U.pathname,query:L({},U.query)},void 0,{shallow:!0}),A(e)},currentClub:B,changeCurrentClub:function(e){e?(U.query.city=e.city.slug,U.query.club=e.slug):delete U.query.club,U.push({pathname:U.pathname,query:L({},U.query)},void 0,{shallow:!0}),Y(e)},cities:E,clubs:l,scheduleFilters:"adult"===K?y.DP[V]:y.G5[V],currentScheduleFilters:G,changeCurrentScheduleFilters:function(e){H(e),e.length>0?U.query.filters=e.join(";"):delete U.query.filters,U.push({pathname:U.pathname,query:L({},U.query)},void 0,{shallow:!0})}}),(0,C.jsxs)(r.ZP.Group,{defaultValue:"adult",value:K,onChange:function(e){var t=e.target.value;Q(t),"adult"===t?delete U.query.age:U.query.age="kids",U.push({pathname:U.pathname,query:L({},U.query)},void 0,{shallow:!0})},children:[(0,C.jsx)(r.ZP.Button,{value:"adult",children:D.schedule.scheduleForAdults}),(0,C.jsx)(r.ZP.Button,{value:"kid",children:D.schedule.scheduleForKid})]}),pe.length?(0,C.jsx)(w.Z,{schedule:pe,loading:h}):null!==B&&void 0!==B&&B.closed?(0,C.jsx)(_.Z,{placeholderText:D.clubs.closedText}):(0,C.jsx)(_.Z,{placeholderText:D.placeholder.schedule}),(0,C.jsx)(j.Z,{sections:v})]})})]})}},85891:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/schedule",function(){return n(86155)}])}},function(e){e.O(0,[3234,2770,3616,8224,6276,3582,1028,5948,2508,9343,73,1076,4522,6847,9927,3215,710,9774,2888,179],(function(){return t=85891,e(e.s=t);var t}));var t=e.O();_N_E=t}]);